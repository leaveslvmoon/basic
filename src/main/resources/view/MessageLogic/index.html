#include("/public/common.html")
<body>
                <form id="FF" method="post">
                    <div class="toolsearch">
                        <div id="search" class="search">
                            <div class="searchcontent"><input name="mobile" class="easyui-textbox" data-options="width:230,height:40,prompt:'发送对象账号',onChange:function(record){XB.search();}"></div>
                            <div class="searchcontent"><input name="content" class="easyui-textbox" data-options="width:230,height:40,prompt:'发送的内容',onChange:function(record){XB.search();}"></div>
                            <div class="searchsplit"></div>
                            <div class="xbbutton xbbutton-blue searchcontent" onclick="XB.search();"><i class="fa fa-search" aria-hidden="true"></i>查 询</div>
                        </div>
                        #buttonDirective()
                        <div style="clear:both;"></div>
                    </div>
                    <div id="tabelContent" class="tabelContent">
                        <table id="datagrid"></table>
                    </div>
                </form>

<script>


    $(function () {
        var columns = [
            {field: 'id', checkbox: true},
            {field: 'mobile', title: '发送的对象', width: 20},
            {
                field: 'messageType', title: '消息发送类型', width: 10, formatter: function (value, row, index) {
                    if (value == 1) {
                        return '<span class="xbtag">系统消息</span>';
                    } else if(value == 2){
                        return '<span class="xbtag xbtag-info">交易消息</span>';
                    } else if(value == 3){
                        return '<span class="xbtag xbtag-info">其他消息</span>';
                    }
                }
            },
            {
                field: 'receiveType', title: '接收类型', width: 10, formatter: function (value, row, index) {
                    if (value == 1) {
                        return '<span class="xbtag">全部</span>';
                    } else if(value == 3){
                        return '<span class="xbtag xbtag-info">点对点</span>';
                    }
                }
            },
            { field: 'content', title: '发送内容', width: 30 },
            {
                field: 'isRead', title: '是否已读', width: 10, sortable: true, formatter: function (value, row, index) {
                    if (value == 0) {
                        return '<span class="xbtag">未读</span>';
                    } else {
                        return '<span class="xbtag xbtag-info">已读</span>';
                    }
                }
            },
            {
                field: 'sendTime', title: '发送时间', sortable: true, width: 10,
                formatter: function (value) {
                    var date = new Date(value);
                    var getMonth = (date.getMonth() + 1) < 10 ? ("0" + (date.getMonth() + 1)) : (date.getMonth() + 1);
                    var getDate = date.getDate() < 10 ? ("0" + date.getDate()) : date.getDate();
                    var getHours = date.getHours() < 10 ? ("0" + date.getHours()) : date.getHours();
                    var getMinutes = date.getMinutes() < 10 ? ("0" + date.getMinutes()) : date.getMinutes();
                    var getSeconds = date.getSeconds() < 10 ? ("0" + date.getSeconds()) : date.getSeconds();
                    return date.getFullYear() + "-" + getMonth + "-" + getDate + " " + getHours + ":" + getMinutes + ":" + getSeconds;
                }
            }
        ];
        XB.datagrid({"columns": columns});
        XB.enter();
    });
</script>
</body>
</html>
